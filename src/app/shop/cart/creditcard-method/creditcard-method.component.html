<app-header></app-header>
<div class="container">
  <div class="checkout-steps">
    <div class="step-buttons no-hover">
      <progress class="progress is-link" value="100" max="100"></progress>
    </div>
  </div>

  <div class="sub-info">
    <div class="columns is-mobile">
      <div class="column is-6-desktop is-6-mobile">
        <h1>CREDIT CARD</h1>
      </div>
    </div>

    <div class="main-container">
      <div class="columns is-mobile is-multiline">
        <div class="column is-6-desktop is-12-mobile shipping-parent">
          <div class="cash-total has-text-centered">
            <h3>Total Price</h3>
            <h1 class="title" id="title"> $ {{this.generateTotalPrice().toFixed(2)}}</h1>
          </div>
        </div>

        <div class="column is-6-desktop is-12-mobile has-text-centered">
          <div class="righ-container">
            <div class="icon-container">
              <i class="fa fa-credit-card" id="creditcard-icon"></i>
            </div>
            <!--     Form begins here   -->
            <form [formGroup]="creditCard" (ngSubmit)="createCustomer()">
              <div class="columns is-multiline is-gapless credit-card-forms">
                <div class="column is-6">
                  <div class="control">
                    <input class="input unknown jp-card-invalid" formControlName="creditCardNumber"
                           placeholder="Card Number" type="text" ccNumber>
                  </div>
                </div>
                <div class="column is-6">
                  <div class="control">
                    <input class="input" formControlName="fullName" placeholder="Full name" type="text">
                  </div>
                </div>
              </div>
              <div class="columns is-multiline is-gapless">
                <div class="column is-6">
                  <div class="control">
                    <input class="input jp-card-invalid" formControlName="expireYear" placeholder="MM/YY" type="text"
                           ccExp>
                  </div>
                </div>
                <div class="column is-6">
                  <div class="control">
                    <input class="input" formControlName="cvc" placeholder="CVC" type="text" ccCVC>
                  </div>
                </div>
              </div>
<!--              <div class="column is-12-desktop is-12-mobile left-button has-text-centered">-->
<!--                <input type="submit" value="Checkout" id="checkout-button" class="button">-->
<!--              </div>-->
              <div class="column is-12-desktop is-12-mobile left-button has-text-centered">
                <a class="button" id="checkout-button" (click)="createCustomer()">Checkout</a>
              </div>
            </form>
            <!--       End of form           -->

          </div>
        </div>
      </div>
    </div>

    <!--    Confirm Charge Modal  -->

    <div class="modal" [ngClass]="{'is-active':this.checkoutConfirm}">
      <div class="modal-background"></div>
      <div class="modal-card">
        <header class="modal-card-head">
          <p class="modal-card-title">Confirm Checkout</p>
          <button class="delete" aria-label="close" (click)="cancelModal()"></button>
        </header>
        <section class="modal-card-body">
          Are you sure you want to proceed with checkout?
        </section>
        <footer class="modal-card-foot">
          <button class="button is-success" routerLink="/cart/success-screen" (click)="buy()">Yes</button>
        </footer>
      </div>
    </div>

    <div class="columns back-next-buttons is-mobile">
      <div class="column is-12-desktop is-12-mobile has-text-centered left-button">
        <a class="button" id="goback-button" routerLink="/cart/verification">Go Back</a>
      </div>
    </div>
  </div>
</div>
